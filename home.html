<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cyber • Home</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="home.css" />
</head>
<body>

<header class="top-header">
  <div class="logo">Cyber Eye</div>
  
  <nav class="header-right">
    <a class="nav-link" href="viewer.html">Docs</a>
    
    <div class="features-nav-container">
        <a class="nav-link" href="#">Features <i class="fa-solid fa-chevron-down" style="font-size: 10px;"></i></a>
        
        <div class="neon-feature-box">
            <div class="feature-item">
                <i class="fa-solid fa-shield-virus"></i>
                <div class="feature-text">
                    <h4>Threat Detection</h4>
                    <p>Real-time scanning for malware and network vulnerabilities.</p>
                </div>
            </div>
            <div class="feature-item">
                <i class="fa-solid fa-microchip"></i>
                <div class="feature-text">
                    <h4>AI Integration</h4>
                    <p>Smart security insights powered by Google AI Plus core.</p>
                </div>
            </div>
            <div class="feature-item">
                <i class="fa-solid fa-lock"></i>
                <div class="feature-text">
                    <h4>Zero Trust</h4>
                    <p>Advanced encryption protocols for every data packet.</p>
                </div>
            </div>
        </div>
    </div>
    
    <button class="login-btn" onclick="location.href='login.html'">Log out</button>
  </nav>
</header>

<button id="collapseBtn" class="collapse-btn">
  <i class="fa-solid fa-bars"></i>
</button>
<aside id="sideNav" class="side-nav closed">
  <ul id="navList">
    <li class="unlocked"><a href="home.html"><i class="fa-solid fa-book"></i> Introduction <span class="lock-status"><i class="fa-solid fa-lock-open"></i></span></a></li>
    
    <li class="locked"><a href="fundamentals.html"><i class="fa-solid fa-lightbulb"></i> Fundamentals <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
    
    <li class="locked"><a href="tutorials.html"><i class="fa-solid fa-chalkboard"></i> Services & Mechanism <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
    
    <li class="locked"><a href="iso.html"><i class="fa-solid fa-shield-halved"></i> ISO Security <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
    
    <li class="locked"><a href="firewall.html"><i class="fa-solid fa-fire"></i> Firewall <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
    
    <li class="locked"><a href="cipher.html"><i class="fa-solid fa-key"></i> Ciphers <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
    
    <li class="locked"><a href="network.html"><i class="fa-solid fa-network-wired"></i> Networks <span class="lock-status"><i class="fa-solid fa-lock"></i></span></a></li>
  </ul>
</aside>

<main class="content" id="content">
  <section class="hero">
    <div id="google-welcome" style="display: none; margin-bottom: 10px;">
        <h3 class="neon">
            Welcome <span id="user-name-span"></span> to Cyber Eye
        </h3>
    <h1 class="neon">Introduction to Cybersecurity</h1>
    <p class="muted">
      Learn the fundamentals of cybersecurity through short tutorials,
      practical explanations, and real-world concepts.
    </p>
    <p style="text-align: justify;">
      Cybersecurity is the practice of protecting systems, networks, and data
      from digital attacks. In today’s interconnected world, information is
      constantly at risk from hackers, malware, phishing attacks, and other
      cyber threats.
    </p>
  </section>

  <section class="video-section">
    <h2>Watch Our Cybersecurity Introduction</h2>
    <video controls>
      <source src="What is Cyber Security_ How You Can Protect Yourself from Cyber Attacks.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </section>

  <section class="features">
    <h2>Key Aspects of Cybersecurity</h2>
    <ul style="color:#bfc3c8; line-height:1.8; text-align: justify;">
      <li><b>Network Security:</b> Protecting network infrastructure and connected devices.</li>
      <li><b>Information Security:</b> Ensuring confidentiality, integrity, and availability of data.</li>
      <li><b>Application Security:</b> Securing applications from vulnerabilities.</li>
    </ul>
  </section>
</main>
<footer class="cyber-footer-pro">
  <div class="footer-overlay"></div>
  <div class="footer-container">
    
    <div class="footer-main">
      <div class="footer-col brand-col">
        <h2 class="f-logo">Cyber <span>Eye</span></h2>
        <p class="f-tagline">Providing high-quality cyber security education through our structured online course modules.</p>
        <div class="system-status">
          <div class="pulse-ring"></div>
          <span class="status-text">Learning Portal Active</span>
        </div>
      </div>

      <div class="footer-col links-col">
        <h4>Curriculum</h4>
        <ul class="f-nav-list">
          <li><a href="home.html"><i class="fa-solid fa-book-open"></i> Course Intro</a></li>
          <li><a href="fundamentals.html"><i class="fa-solid fa-shield-halved"></i> Fundamentals</a></li>
          <li><a href="tutorials.html"><i class="fa-solid fa-layer-group"></i> Services & Mechanism</a></li>
          <li><a href="iso.html"><i class="fa-solid fa-check-double"></i> ISO Standards</a></li>
        </ul>
      </div>

      <div class="footer-col links-col">
        <h4>Specializations</h4>
        <ul class="f-nav-list">
          <li><a href="firewall.html"><i class="fa-solid fa-fire-shield"></i> Firewall Security</a></li>
          <li><a href="cipher.html"><i class="fa-solid fa-user-lock"></i> Cryptography</a></li>
          <li><a href="network.html"><i class="fa-solid fa-network-wired"></i> Network Defense</a></li>
          <li><a href="viewer.html"><i class="fa-solid fa-file-pdf"></i> Study Material</a></li>
        </ul>
      </div>

      <div class="footer-col team-col">
        <h4>Project Developers</h4>
        <div class="team-card">
          <div class="member">
            <i class="fa-solid fa-graduation-cap"></i>
            <div>
              <h5>Ibtisam</h5>
              <p>2024S-BCNS-015</p>
            </div>
          </div>
          <div class="member">
            <i class="fa-solid fa-user-tie"></i>
            <div>
              <h5>Ghousia Kiran</h5>
              <p>2024S-BCNS-005</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-copyright">
    <p class="f-bottom-links">
        <a href="#">© 2025 Cyber Eye Online Courseware • Education for a Secure Future</a>
    </p>
    <div class="f-bottom-links">
        <a href="mailto:2024S-BCNS-005@ssuet.edu.pk">Help Center</a>
        <a href="mailto:2024S-BCNS-015@ssuet.edu.pk">Terms of Study</a>
    </div>
</div>
</footer>

<div id="chatModal" class="chat-modal" aria-hidden="true">
  <div class="chat-panel">
    <header class="chat-header">
      <h4>Cyber Assistant</h4>
      <button id="closeChat" class="close-chat"><i class="fa-solid fa-xmark"></i></button>
    </header>
    <div id="chatBody" class="chat-body">
      <div class="bot-msg">Hello! Ask me anything about cybersecurity topics.</div>
    </div>
    <footer class="chat-footer">
      <input id="chatInput" placeholder="Type a question..." />
      <button id="sendChat" class="send-btn"><i class="fa-solid fa-paper-plane"></i></button>
    </footer>
  </div>
</div>

<button id="chatFloat" class="chatbot-btn" title="Open chat">
  <i class="fa-solid fa-comments"></i>
</button>

<script>
  window.onscroll = function() {
    // 80% scroll check
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight * 0.8) {
        
        let path = window.location.pathname;
        let page = path.split("/").pop() || "home.html";

        // localStorage ki jagah sessionStorage use kiya hai taake session khatam hote hi lock ho jaye
        if (page === "home.html") {
            sessionStorage.setItem("fundamentals_unlocked", "true");
        } else if (page === "fundamentals.html") {
            sessionStorage.setItem("tutorials_unlocked", "true");
        } else if (page === "tutorials.html") {
            sessionStorage.setItem("iso_unlocked", "true");
        } else if (page === "iso.html") {
            sessionStorage.setItem("firewall_unlocked", "true");
        } else if (page === "firewall.html") {
            sessionStorage.setItem("cipher_unlocked", "true");
        } else if (page === "cipher.html") {
            sessionStorage.setItem("networks_unlocked", "true");
        }
        
        updateNavLockStatus();
    }
};

function updateNavLockStatus() {
    const listItems = document.querySelectorAll("#navList li");
    if (!listItems.length) return;

    // Session se status check kar rha hai
    if (sessionStorage.getItem("fundamentals_unlocked") === "true") {
        unlockItem(listItems[1]);
    }
    if (sessionStorage.getItem("tutorials_unlocked") === "true") {
        unlockItem(listItems[2]);
    }
    if (sessionStorage.getItem("iso_unlocked") === "true") {
        unlockItem(listItems[3]);
    }
    if (sessionStorage.getItem("firewall_unlocked") === "true") {
        unlockItem(listItems[4]);
    }
    if (sessionStorage.getItem("cipher_unlocked") === "true") {
        unlockItem(listItems[5]);
    }
    if (sessionStorage.getItem("networks_unlocked") === "true") {
        unlockItem(listItems[6]);
    }
}

function unlockItem(element) {
    if (element && element.classList.contains("locked")) {
        element.classList.remove("locked");
        element.classList.add("unlocked");
        
        const lockStatusSpan = element.querySelector(".lock-status");
        if (lockStatusSpan) {
            // innerHTML ke zariye lock icon change
            lockStatusSpan.innerHTML = '<i class="fa-solid fa-lock-open"></i>';
        }
    }
}

// Page load hote hi status refresh karein
document.addEventListener("DOMContentLoaded", updateNavLockStatus);
    window.addEventListener('load', function() {
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const accessToken = params.get('access_token');

        // Check if we just arrived from Google
        if (accessToken) {
            fetch('https://www.googleapis.com/oauth2/v3/userinfo', {
                headers: { 'Authorization': `Bearer ${accessToken}` }
            })
            .then(response => response.json())
            .then(data => {
                if (data.name) {
                    // Save to localStorage so it persists on refresh
                    localStorage.setItem("userName", data.name);
                    displayWelcome(data.name);
                }
            });
        } 
        // If no token in URL, check if name is already in localStorage
        else {
            const storedName = localStorage.getItem("userName");
            if (storedName) {
                displayWelcome(storedName);
            }
        }

        function displayWelcome(name) {
            const span = document.getElementById('user-name-span');
            const welcomeDiv = document.getElementById('google-welcome');
            if (span && welcomeDiv) {
                span.innerText = name;
                welcomeDiv.style.display = 'block';
                document.getElementById('welcome-message').style.fontSize = "2.5rem";
            }
        }
    });
    function logout() {
    localStorage.removeItem("userName"); // Ya localStorage.clear();
    window.location.href = "login.html";
}
let lastScroll = 0;
const header = document.querySelector('.top-header');

window.addEventListener('scroll', () => {
  const currentScroll = window.pageYOffset;
  if (currentScroll > lastScroll && currentScroll > 80) {
    header.classList.add('hide');
  } else {
    header.classList.remove('hide');
  }
  lastScroll = currentScroll;
});

  // ======== NAVIGATION ========
  const collapseBtn = document.getElementById("collapseBtn");
  const sideNav = document.getElementById("sideNav");
  collapseBtn.addEventListener("click", () => { sideNav.classList.toggle("closed"); });

  // ======== SMART CHATBOT ========
  const chatFloat = document.getElementById('chatFloat');
  const chatModal = document.getElementById('chatModal');
  const closeChat = document.getElementById('closeChat');
  const sendChat = document.getElementById('sendChat');
  const chatInput = document.getElementById('chatInput');
  const chatBody = document.getElementById('chatBody');

  chatFloat.addEventListener('click', ()=>{ chatModal.classList.add('active'); chatModal.setAttribute('aria-hidden','false'); });
  closeChat.addEventListener('click', ()=>{ chatModal.classList.remove('active'); chatModal.setAttribute('aria-hidden','true'); });

  function addBotMessage(text){ const el=document.createElement('div'); el.className='bot-msg'; el.textContent=text; chatBody.appendChild(el); chatBody.scrollTop=chatBody.scrollHeight; }
  function addUserMessage(text){ const el=document.createElement('div'); el.className='user-msg'; el.textContent=text; chatBody.appendChild(el); chatBody.scrollTop=chatBody.scrollHeight; }

  const answers = {
    rsa:["RSA is a public-key system for encrypting/decrypting data.","RSA uses a public key to encrypt and a private key to decrypt."],
    firewall:["A firewall monitors and controls network traffic.","Firewalls can be hardware or software-based to protect networks."],
    network:["Network security protects data and devices from unauthorized access."],
    general:["Ask me anything about RSA, firewalls, networks, phishing, or encryption."]
  };

  function getAnswer(txt){
    txt=txt.toLowerCase();
    for(let key in answers){ if(txt.includes(key)) return answers[key][Math.floor(Math.random()*answers[key].length)]; }
    return answers.general[0];
  }

  sendChat.addEventListener('click', ()=>{
    const txt = chatInput.value.trim(); if(!txt) return;
    addUserMessage(txt); chatInput.value='';
    addBotMessage('Thinking...');
    setTimeout(()=>{
      const nodes = Array.from(chatBody.querySelectorAll('.bot-msg'));
      if(nodes.length) nodes[nodes.length-1].remove();
      addBotMessage(getAnswer(txt));
    },800);
  });

  chatInput.addEventListener('keydown',(e)=>{ if(e.key==='Enter'){ e.preventDefault(); sendChat.click(); } });
</script>

</body>
</html>